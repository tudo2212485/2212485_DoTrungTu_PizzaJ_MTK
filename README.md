# üçï H·ªá th·ªëng POS (Point of Sale) Pizza

![Java](https://img.shields.io/badge/Java-17-orange?logo=java)
![JavaFX](https://img.shields.io/badge/JavaFX-19.0.2-blue?logo=java)
![SQLite](https://img.shields.io/badge/SQLite-3.41-003B57?logo=sqlite)
![Maven](https://img.shields.io/badge/Maven-3.6+-C71A36?logo=apache-maven)
![Design Patterns](https://img.shields.io/badge/Design%20Patterns-4-brightgreen)
![SOLID](https://img.shields.io/badge/SOLID-5%20Principles-success)

·ª®ng d·ª•ng JavaFX desktop POS chuy√™n nghi·ªáp cho c·ª≠a h√†ng pizza, minh h·ªça ƒë·∫ßy ƒë·ªß **5 nguy√™n l√Ω SOLID** v√† **4 m·∫´u thi·∫øt k·∫ø (Design Patterns)** quan tr·ªçng.

> üìä **Repository n√†y ch·ª©a Mermaid Class Diagrams** - GitHub s·∫Ω t·ª± ƒë·ªông render c√°c s∆° ƒë·ªì ƒë·∫πp m·∫Øt!

## üìã M·ª•c L·ª•c
- [Gi·ªõi Thi·ªáu](#gi·ªõi-thi·ªáu)
- [C√¥ng Ngh·ªá S·ª≠ D·ª•ng](#c√¥ng-ngh·ªá-s·ª≠-d·ª•ng)
- [5 Nguy√™n L√Ω SOLID](#5-nguy√™n-l√Ω-solid)
- [4 Design Patterns](#4-design-patterns)
  - [Architecture Overview](#-architecture-overview---t·∫•t-c·∫£-patterns-k·∫øt-h·ª£p)
  - [Factory Pattern](#1Ô∏è‚É£-factory-pattern---t·∫°o-ƒë·ªëi-t∆∞·ª£ng-pizza)
  - [Decorator Pattern](#2Ô∏è‚É£-decorator-pattern---th√™m-topping-ƒë·ªông)
  - [Strategy Pattern](#3Ô∏è‚É£-strategy-pattern---x·ª≠-l√Ω-thanh-to√°n)
  - [Observer Pattern](#4Ô∏è‚É£-observer-pattern---c·∫≠p-nh·∫≠t-ui-t·ª±-ƒë·ªông)
- [C·∫•u Tr√∫c D·ª± √Ån](#c·∫•u-tr√∫c-d·ª±-√°n)
- [Database Schema](#-database-schema-sqlite)
- [H∆∞·ªõng D·∫´n Ch·∫°y](#h∆∞·ªõng-d·∫´n-ch·∫°y)
- [Unit Testing](#unit-testing)

---

## üéØ Gi·ªõi Thi·ªáu

ƒê√¢y l√† h·ªá th·ªëng POS (Point of Sale) t·∫°i qu·∫ßy cho c·ª≠a h√†ng pizza, cho ph√©p nh√¢n vi√™n:
- ‚úÖ Nh·∫≠n ƒë∆°n h√†ng v√† ch·ªçn m√≥n
- ‚úÖ Th√™m topping ƒë·ªông
- ‚úÖ X·ª≠ l√Ω thanh to√°n (Ti·ªÅn m·∫∑t, Th·∫ª, V√≠ ƒëi·ªán t·ª≠)
- ‚úÖ L∆∞u tr·ªØ ƒë∆°n h√†ng v√†o database

**M·ª•c ti√™u ch√≠nh**: √Åp d·ª•ng ƒë√∫ng v√† ƒë·∫ßy ƒë·ªß **5 nguy√™n l√Ω SOLID** v√† **4 Design Patterns**.

---

## üõ† C√¥ng Ngh·ªá S·ª≠ D·ª•ng

- **Java**: 17
- **JavaFX**: 19.0.2.1 (Desktop UI)
- **SQLite**: 3.41.2.2 (Database)
- **JUnit**: 5.9.2 (Testing)
- **Maven**: Qu·∫£n l√Ω dependenciesimage.png

---

## üèõÔ∏è 5 Nguy√™n L√Ω SOLID

### 1Ô∏è‚É£ **SRP - Single Responsibility Principle** (Nguy√™n l√Ω Tr√°ch nhi·ªám ƒê∆°n)
> *M·ªôt class ch·ªâ n√™n c√≥ m·ªôt l√Ω do duy nh·∫•t ƒë·ªÉ thay ƒë·ªïi*

#### ‚úÖ V√≠ d·ª• trong d·ª± √°n:

**`PriceCalculator.java`** - Ch·ªâ ch·ªãu tr√°ch nhi·ªám t√≠nh to√°n gi√°
```java
public class PriceCalculator {
    public int calculateSubtotal(List<Pizza> items) { ... }
    public int calculateTax(int subtotal, double taxRate) { ... }
    public int calculateDiscount(int subtotal, double discountPercent) { ... }
}
```
‚úÖ **Tu√¢n th·ªß SRP**: Class n√†y ch·ªâ lo t√≠nh to√°n gi√°, kh√¥ng lo UI, kh√¥ng lo database.

**`CartService.java`** - Ch·ªâ qu·∫£n l√Ω gi·ªè h√†ng
```java
public class CartService {
    public void addItem(Pizza pizza) { ... }
    public void removeItem(int index) { ... }
    public int getTotal() { ... }
}
```
‚úÖ **Tu√¢n th·ªß SRP**: Ch·ªâ qu·∫£n l√Ω state c·ªßa gi·ªè h√†ng, kh√¥ng lo UI hay thanh to√°n.

**`OrderRepository.java`** - Ch·ªâ lo l∆∞u tr·ªØ database
```java
public class OrderRepository {
    public int saveOrder(...) throws SQLException { ... }
}
```
‚úÖ **Tu√¢n th·ªß SRP**: Ch·ªâ lo persistence, kh√¥ng lo business logic.

---

### 2Ô∏è‚É£ **OCP - Open/Closed Principle** (Nguy√™n l√Ω ƒê√≥ng/M·ªü)
> *Open for extension, closed for modification - M·ªü ƒë·ªÉ m·ªü r·ªông, ƒë√≥ng ƒë·ªÉ s·ª≠a ƒë·ªïi*

#### ‚úÖ V√≠ d·ª• trong d·ª± √°n:

**Th√™m Payment Method m·ªõi KH√îNG c·∫ßn s·ª≠a code c≈©**

```java
// Interface kh√¥ng c·∫ßn s·ª≠a
public interface PaymentStrategy {
    boolean processPayment(int amount);
    String getName();
}

// Th√™m payment method m·ªõi - KH√îNG s·ª≠a code c≈©
public class BankTransferPayment implements PaymentStrategy {
    @Override
    public boolean processPayment(int amount) {
        // Logic chuy·ªÉn kho·∫£n ng√¢n h√†ng
        return true;
    }
    
    @Override
    public String getName() {
        return "Bank Transfer";
    }
}
```
‚úÖ **Tu√¢n th·ªß OCP**: Th√™m t√≠nh nƒÉng m·ªõi b·∫±ng c√°ch extend, kh√¥ng modify existing code.

**Th√™m Pizza m·ªõi**
```java
public class VeganPizza extends Pizza {
    public VeganPizza(Size size) {
        super("Vegan Special", size, 85_000);
    }
}
```
‚úÖ Kh√¥ng c·∫ßn s·ª≠a `Pizza.java` hay `PizzaFactory.java` (ch·ªâ th√™m case m·ªõi).

---

### 3Ô∏è‚É£ **LSP - Liskov Substitution Principle** (Nguy√™n l√Ω Thay th·∫ø Liskov)
> *C√°c class con ph·∫£i c√≥ th·ªÉ thay th·∫ø class cha m√† kh√¥ng l√†m h·ªèng ch∆∞∆°ng tr√¨nh*

#### ‚úÖ V√≠ d·ª• trong d·ª± √°n:

**T·∫•t c·∫£ PaymentStrategy ƒë·ªÅu thay th·∫ø ƒë∆∞·ª£c cho nhau**
```java
// C√≥ th·ªÉ d√πng b·∫•t k·ª≥ payment method n√†o
PaymentStrategy payment = new CashPayment();
payment = new CardPayment();      // ‚úÖ Thay th·∫ø ƒë∆∞·ª£c
payment = new EWalletPayment();   // ‚úÖ Thay th·∫ø ƒë∆∞·ª£c

// Client code kh√¥ng c·∫ßn thay ƒë·ªïi
boolean success = payment.processPayment(100_000);
```

**T·∫•t c·∫£ Pizza subclasses ƒë·ªÅu thay th·∫ø ƒë∆∞·ª£c**
```java
Pizza pizza = new Margherita(Size.M);
pizza = new Pepperoni(Size.L);    // ‚úÖ Thay th·∫ø ƒë∆∞·ª£c
pizza = new Hawaiian(Size.S);     // ‚úÖ Thay th·∫ø ƒë∆∞·ª£c

// Decorator c≈©ng thay th·∫ø ƒë∆∞·ª£c
pizza = new Cheese(pizza);        // ‚úÖ Pizza v·∫´n l√† Pizza
```

‚úÖ **Tu√¢n th·ªß LSP**: T·∫•t c·∫£ subclasses/implementations ho·∫°t ƒë·ªông gi·ªëng nhau v·ªÅ m·∫∑t interface.

---

### 4Ô∏è‚É£ **ISP - Interface Segregation Principle** (Nguy√™n l√Ω Ph√¢n t√°ch Interface)
> *Kh√¥ng n√™n √©p client ph·ª• thu·ªôc v√†o interface m√† n√≥ kh√¥ng d√πng*

#### ‚úÖ V√≠ d·ª• trong d·ª± √°n:

**PaymentStrategy Interface - Nh·ªè g·ªçn, ch·ªâ c√≥ nh·ªØng method c·∫ßn thi·∫øt**
```java
public interface PaymentStrategy {
    boolean processPayment(int amount);  // Ch·ªâ method c·∫ßn thi·∫øt
    String getName();                     // Ch·ªâ method c·∫ßn thi·∫øt
    String getDescription();              // Ch·ªâ method c·∫ßn thi·∫øt
}
```
‚úÖ **Tu√¢n th·ªß ISP**: Interface nh·ªè, focused. Kh√¥ng c√≥ method th·ª´a.

**‚ùå Vi ph·∫°m ISP s·∫Ω nh∆∞ th·∫ø n√†o:**
```java
// BAD EXAMPLE - KH√îNG l√†m th·∫ø n√†y
public interface PaymentStrategy {
    boolean processPayment(int amount);
    void refundPayment(int amount);        // ‚ùå Kh√¥ng ph·∫£i t·∫•t c·∫£ payment c·∫ßn refund
    void printReceipt();                   // ‚ùå Print kh√¥ng ph·∫£i tr√°ch nhi·ªám c·ªßa Payment
    void sendEmailConfirmation();          // ‚ùå Email kh√¥ng ph·∫£i tr√°ch nhi·ªám c·ªßa Payment
    boolean validateCard();                // ‚ùå Ch·ªâ Card c·∫ßn validate
    String generateQR();                   // ‚ùå Ch·ªâ E-Wallet c·∫ßn QR
}
```

---

### 5Ô∏è‚É£ **DIP - Dependency Inversion Principle** (Nguy√™n l√Ω ƒê·∫£o ng∆∞·ª£c Ph·ª• thu·ªôc)
> *High-level modules kh√¥ng n√™n ph·ª• thu·ªôc v√†o low-level modules. C·∫£ hai n√™n ph·ª• thu·ªôc v√†o abstraction*

#### ‚úÖ V√≠ d·ª• trong d·ª± √°n:

**CartService ph·ª• thu·ªôc v√†o abstraction (PaymentStrategy), KH√îNG ph·ª• thu·ªôc v√†o concrete classes**

```java
public class CartService {
    // ‚úÖ Depend on abstraction
    private PaymentStrategy paymentStrategy;
    
    // ‚ùå KH√îNG ph·ª• thu·ªôc tr·ª±c ti·∫øp v√†o concrete:
    // private CashPayment cashPayment;
    // private CardPayment cardPayment;
    
    public void setPaymentStrategy(PaymentStrategy strategy) {
        this.paymentStrategy = strategy;
    }
    
    public boolean processPayment() {
        // D√πng abstraction, kh√¥ng bi·∫øt concrete implementation
        return paymentStrategy.processPayment(getTotal());
    }
}
```

**CartController ph·ª• thu·ªôc v√†o CartService abstraction**
```java
public class CartController {
    // ‚úÖ Depend on abstraction (service layer)
    private final CartService cartService = CartService.getInstance();
    
    @FXML
    private void handlePlaceOrder() {
        // High-level module (Controller) kh√¥ng quan t√¢m 
        // low-level details (payment processing logic)
        boolean success = cartService.processPayment();
    }
}
```

‚úÖ **Tu√¢n th·ªß DIP**: High-level modules (Controller, Service) ph·ª• thu·ªôc v√†o abstractions, kh√¥ng ph·ª• thu·ªôc v√†o concrete implementations.

---

## üé® 4 Design Patterns

### üèóÔ∏è Architecture Overview - T·∫•t c·∫£ Patterns k·∫øt h·ª£p

```mermaid
graph TB
    subgraph "Factory Pattern"
        Factory[PizzaFactory]
        Pizza1[Margherita]
        Pizza2[Pepperoni]
        Pizza3[Hawaiian]
        Factory -->|creates| Pizza1
        Factory -->|creates| Pizza2
        Factory -->|creates| Pizza3
    end
    
    subgraph "Decorator Pattern"
        BasePizza[Pizza]
        Decorator[ToppingDecorator]
        Cheese[Cheese +10k]
        Bacon[Bacon +15k]
        Mushroom[Mushroom +8k]
        BasePizza --> Decorator
        Decorator --> Cheese
        Decorator --> Bacon
        Decorator --> Mushroom
    end
    
    subgraph "Strategy Pattern"
        Strategy[PaymentStrategy]
        Cash[CashPayment]
        Card[CardPayment]
        EWallet[EWalletPayment]
        Strategy --> Cash
        Strategy --> Card
        Strategy --> EWallet
    end
    
    subgraph "Observer Pattern"
        EventBus[EventBus]
        CartService[CartService]
        PosController[PosController]
        CartService -->|publish| EventBus
        EventBus -->|notify| PosController
    end
    
    Factory -.->|provides| CartService
    Decorator -.->|decorates| CartService
    CartService -->|uses| Strategy
    
    style Factory fill:#e1f5ff
    style Decorator fill:#fff5e1
    style Strategy fill:#e8f5e9
    style EventBus fill:#f3e5f5
```

---

### 1Ô∏è‚É£ **Factory Pattern** - T·∫°o ƒë·ªëi t∆∞·ª£ng Pizza

**V·ªã tr√≠**: `com.pizza.domain.factory.PizzaFactory`

**V·∫•n ƒë·ªÅ gi·∫£i quy·∫øt**: T·∫≠p trung logic t·∫°o Pizza, client kh√¥ng c·∫ßn bi·∫øt concrete class.

```java
// Client code kh√¥ng c·∫ßn bi·∫øt concrete class
Pizza pizza = PizzaFactory.create("Margherita", Size.M);

// Factory x·ª≠ l√Ω logic t·∫°o object
public static Pizza create(String type, Size size) {
    return switch (type.toLowerCase()) {
        case "margherita" -> new Margherita(size);
        case "pepperoni" -> new Pepperoni(size);
        case "hawaiian" -> new Hawaiian(size);
        // ... th√™m pizza m·ªõi ·ªü ƒë√¢y
        default -> throw new IllegalArgumentException("Unknown pizza");
    };
}
```

**L·ª£i √≠ch**:
- ‚úÖ T√°ch bi·ªát creation logic
- ‚úÖ D·ªÖ th√™m pizza m·ªõi
- ‚úÖ Tu√¢n th·ªß SOLID (SRP, OCP)

#### üìä Class Diagram - Factory Pattern

```mermaid
classDiagram
    class Pizza {
        <<abstract>>
        -String name
        -Size size
        -int basePrice
        +getPrice() int
        +getDescription() String
        +getName() String
        +getSize() Size
    }
    
    class PizzaFactory {
        <<static>>
        +create(String type, Size size)$ Pizza
    }
    
    class Margherita {
        -BASE_PRICE = 60000
        +Margherita(Size size)
    }
    
    class Pepperoni {
        -BASE_PRICE = 90000
        +Pepperoni(Size size)
    }
    
    class Hawaiian {
        -BASE_PRICE = 80000
        +Hawaiian(Size size)
    }
    
    class Seafood {
        -BASE_PRICE = 120000
        +Seafood(Size size)
    }
    
    class VeggieSupreme {
        -BASE_PRICE = 70000
        +VeggieSupreme(Size size)
    }
    
    Pizza <|-- Margherita
    Pizza <|-- Pepperoni
    Pizza <|-- Hawaiian
    Pizza <|-- Seafood
    Pizza <|-- VeggieSupreme
    
    PizzaFactory ..> Pizza : creates
    PizzaFactory ..> Margherita : creates
    PizzaFactory ..> Pepperoni : creates
    PizzaFactory ..> Hawaiian : creates
    PizzaFactory ..> Seafood : creates
    PizzaFactory ..> VeggieSupreme : creates
```

---

### 2Ô∏è‚É£ **Decorator Pattern** - Th√™m topping ƒë·ªông

**V·ªã tr√≠**: `com.pizza.domain.decorator.*`

**V·∫•n ƒë·ªÅ gi·∫£i quy·∫øt**: Th√™m t√≠nh nƒÉng (topping) v√†o Pizza m√† kh√¥ng s·ª≠a class Pizza g·ªëc.

```java
// T·∫°o pizza c∆° b·∫£n
Pizza pizza = PizzaFactory.create("Pepperoni", Size.L);
System.out.println(pizza.getPrice());  // 120,000

// Th√™m topping ƒë·ªông - wrap pizza trong decorators
pizza = new Cheese(pizza);      // +10,000
pizza = new Bacon(pizza);       // +15,000
pizza = new Mushroom(pizza);    // +8,000

System.out.println(pizza.getPrice());        // 153,000
System.out.println(pizza.getDescription());  // "Pepperoni (L) + Extra Cheese + Bacon + Mushroom"
```

**C·∫•u tr√∫c**:
```java
// Component
public abstract class Pizza {
    public abstract int getPrice();
    public abstract String getDescription();
}

// Concrete Component
public class Pepperoni extends Pizza { ... }

// Decorator
public abstract class ToppingDecorator extends Pizza {
    protected Pizza pizza;
    
    @Override
    public int getPrice() {
        return pizza.getPrice() + toppingPrice;
    }
}

// Concrete Decorators
public class Cheese extends ToppingDecorator { ... }
public class Bacon extends ToppingDecorator { ... }
```

**L·ª£i √≠ch**:
- ‚úÖ Th√™m t√≠nh nƒÉng runtime
- ‚úÖ Tu√¢n th·ªß OCP (th√™m topping m·ªõi kh√¥ng s·ª≠a code c≈©)
- ‚úÖ Linh ho·∫°t h∆°n inheritance

#### üìä Class Diagram - Decorator Pattern

```mermaid
classDiagram
    class Pizza {
        <<abstract>>
        -String name
        -Size size
        -int basePrice
        +getPrice() int
        +getDescription() String
        +getName() String
        +getSize() Size
    }
    
    class Pepperoni {
        -BASE_PRICE = 90000
        +Pepperoni(Size size)
        +getPrice() int
        +getDescription() String
    }
    
    class ToppingDecorator {
        <<abstract>>
        #Pizza pizza
        #String toppingName
        #int toppingPrice
        +ToppingDecorator(Pizza pizza, String name, int price)
        +getPrice() int
        +getDescription() String
        +getToppings() String
        +getWrappedPizza() Pizza
    }
    
    class Cheese {
        -CHEESE_PRICE = 10000
        +Cheese(Pizza pizza)
    }
    
    class Bacon {
        -BACON_PRICE = 15000
        +Bacon(Pizza pizza)
    }
    
    class Mushroom {
        -MUSHROOM_PRICE = 8000
        +Mushroom(Pizza pizza)
    }
    
    Pizza <|-- Pepperoni : extends
    Pizza <|-- ToppingDecorator : extends
    ToppingDecorator <|-- Cheese : extends
    ToppingDecorator <|-- Bacon : extends
    ToppingDecorator <|-- Mushroom : extends
    ToppingDecorator o-- Pizza : wraps
    
    note for ToppingDecorator "Wraps a Pizza and adds\nfunctionality dynamically"
```

---

### 3Ô∏è‚É£ **Strategy Pattern** - X·ª≠ l√Ω thanh to√°n

**V·ªã tr√≠**: `com.pizza.domain.strategy.*`

**V·∫•n ƒë·ªÅ gi·∫£i quy·∫øt**: Cho ph√©p ch·ªçn thu·∫≠t to√°n thanh to√°n (Cash/Card/E-Wallet) t·∫°i runtime.

```java
// Interface
public interface PaymentStrategy {
    boolean processPayment(int amount);
    String getName();
}

// Concrete Strategies
public class CashPayment implements PaymentStrategy {
    @Override
    public boolean processPayment(int amount) {
        System.out.println("üíµ Cash payment: " + amount);
        return true;
    }
}

public class CardPayment implements PaymentStrategy {
    @Override
    public boolean processPayment(int amount) {
        // Connect to payment gateway
        return true;
    }
}

// S·ª≠ d·ª•ng
cartService.setPaymentStrategy(new CashPayment());
cartService.processPayment();

// ƒê·ªïi strategy runtime
cartService.setPaymentStrategy(new CardPayment());
cartService.processPayment();
```

**L·ª£i √≠ch**:
- ‚úÖ T√°ch bi·ªát c√°c thu·∫≠t to√°n
- ‚úÖ D·ªÖ th√™m payment method m·ªõi
- ‚úÖ Tu√¢n th·ªß OCP, DIP

#### üìä Class Diagram - Strategy Pattern

```mermaid
classDiagram
    class PaymentStrategy {
        <<interface>>
        +processPayment(int amount) boolean
        +getName() String
        +getDescription() String
    }
    
    class CashPayment {
        +processPayment(int amount) boolean
        +getName() String
        +getDescription() String
    }
    
    class CardPayment {
        +processPayment(int amount) boolean
        +getName() String
        +getDescription() String
    }
    
    class EWalletPayment {
        +processPayment(int amount) boolean
        +getName() String
        +getDescription() String
    }
    
    class CartService {
        -PaymentStrategy paymentStrategy
        +setPaymentStrategy(PaymentStrategy strategy) void
        +processPayment() boolean
        +addItem(Pizza pizza) void
        +getTotal() int
    }
    
    PaymentStrategy <|.. CashPayment : implements
    PaymentStrategy <|.. CardPayment : implements
    PaymentStrategy <|.. EWalletPayment : implements
    CartService o-- PaymentStrategy : uses
    
    note for PaymentStrategy "Strategy interface defines\npayment algorithm"
    note for CartService "Context class that uses\nthe selected strategy"
```

---

### 4Ô∏è‚É£ **Observer Pattern** - C·∫≠p nh·∫≠t UI t·ª± ƒë·ªông

**V·ªã tr√≠**: `com.pizza.app.EventBus`

**V·∫•n ƒë·ªÅ gi·∫£i quy·∫øt**: Khi gi·ªè h√†ng thay ƒë·ªïi, t·ª± ƒë·ªông c·∫≠p nh·∫≠t t·∫•t c·∫£ UI li√™n quan.

```java
// EventBus - Subject
public class EventBus {
    private Map<String, List<Consumer<String>>> subscribers;
    
    public void subscribe(String event, Consumer<String> listener) {
        subscribers.computeIfAbsent(event, k -> new ArrayList<>()).add(listener);
    }
    
    public void publish(String event) {
        List<Consumer<String>> listeners = subscribers.get(event);
        listeners.forEach(listener -> listener.accept(null));
    }
}

// Publisher (CartService)
public void addItem(Pizza pizza) {
    items.add(pizza);
    eventBus.publish("CART_UPDATED");  // ‚úÖ Notify observers
}

// Observer (CartController)
eventBus.subscribe("CART_UPDATED", data -> {
    loadCartItems();      // ‚úÖ Auto update UI
    updateTotal();        // ‚úÖ Auto update total
});
```

**L·ª£i √≠ch**:
- ‚úÖ Loose coupling gi·ªØa components
- ‚úÖ UI t·ª± ƒë·ªông sync v·ªõi data
- ‚úÖ D·ªÖ th√™m observers m·ªõi

#### üìä Class Diagram - Observer Pattern

```mermaid
classDiagram
    class EventBus {
        -Map~String, List~Consumer~~ subscribers
        +subscribe(String event, Consumer listener) void
        +publish(String event) void
        +unsubscribe(String event, Consumer listener) void
    }
    
    class CartService {
        -List~Pizza~ items
        -EventBus eventBus
        +addItem(Pizza pizza) void
        +removeItem(int index) void
        +clear() void
        -notifyCartChanged() void
    }
    
    class PosController {
        -CartService cartService
        -EventBus eventBus
        +initialize() void
        -setupEventListeners() void
        -updateOrderDisplay() void
        -updateTotals() void
    }
    
    class HomeController {
        -EventBus eventBus
        +initialize() void
        -setupEventListeners() void
        -updateCartBadge() void
    }
    
    EventBus <-- CartService : publishes to
    EventBus <-- PosController : subscribes to
    EventBus <-- HomeController : subscribes to
    CartService ..> EventBus : notifies
    
    note for EventBus "Subject: Manages\nsubscribers and notifications"
    note for CartService "Publisher: Notifies when\ncart state changes"
    note for PosController "Observer: Updates UI\nwhen cart changes"
```

---

## üìÅ C·∫•u Tr√∫c D·ª± √Ån

```
pizza-pos-system/
‚îú‚îÄ‚îÄ src/main/java/com/pizza/
‚îÇ   ‚îú‚îÄ‚îÄ domain/              # Domain Layer - Business Logic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pizza/          # Pizza entities (SRP)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Pizza.java           (Abstract base)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Size.java            (Enum)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Margherita.java      ‚úÖ LSP
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Pepperoni.java       ‚úÖ LSP
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Hawaiian.java        ‚úÖ LSP
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Seafood.java         ‚úÖ LSP
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ VeggieSupreme.java   ‚úÖ LSP
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ decorator/      # Decorator Pattern
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ToppingDecorator.java (Abstract) ‚úÖ OCP
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Cheese.java          ‚úÖ OCP
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Bacon.java           ‚úÖ OCP
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Mushroom.java        ‚úÖ OCP
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ strategy/       # Strategy Pattern
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PaymentStrategy.java (Interface) ‚úÖ ISP, DIP
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CashPayment.java     ‚úÖ LSP, OCP
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CardPayment.java     ‚úÖ LSP, OCP
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ EWalletPayment.java  ‚úÖ LSP, OCP
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ factory/        # Factory Pattern
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ PizzaFactory.java    ‚úÖ SRP, OCP
‚îÇ   ‚îú‚îÄ‚îÄ app/                # Application Layer
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EventBus.java        (Observer Pattern)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CartService.java     ‚úÖ SRP, DIP
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PriceCalculator.java ‚úÖ SRP
‚îÇ   ‚îú‚îÄ‚îÄ infra/db/           # Infrastructure Layer
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SQLiteConnection.java
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OrderRepository.java ‚úÖ SRP
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PizzaRepository.java ‚úÖ SRP
‚îÇ   ‚îî‚îÄ‚îÄ ui/                 # Presentation Layer
‚îÇ       ‚îú‚îÄ‚îÄ MainApp.java
‚îÇ       ‚îú‚îÄ‚îÄ Launcher.java
‚îÇ       ‚îî‚îÄ‚îÄ controllers/
‚îÇ           ‚îú‚îÄ‚îÄ HomeController.java   ‚úÖ SRP
‚îÇ           ‚îú‚îÄ‚îÄ MenuController.java   ‚úÖ SRP
‚îÇ           ‚îî‚îÄ‚îÄ CartController.java   ‚úÖ SRP, DIP
‚îú‚îÄ‚îÄ src/main/resources/
‚îÇ   ‚îú‚îÄ‚îÄ views/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ home.fxml
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ menu.fxml
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ cart.fxml
‚îÇ   ‚îî‚îÄ‚îÄ application.css
‚îî‚îÄ‚îÄ src/test/java/com/pizza/
    ‚îú‚îÄ‚îÄ StrategyTest.java        (Test Payment Strategies)
    ‚îú‚îÄ‚îÄ DecoratorTest.java       (Test Toppings)
    ‚îî‚îÄ‚îÄ PriceCalculatorTest.java (Test Calculations)
```

---

## üóÑÔ∏è Database Schema (SQLite)

### ER Diagram

```mermaid
erDiagram
    PIZZAS ||--o{ ORDER_ITEMS : contains
    ORDERS ||--|{ ORDER_ITEMS : has
    
    PIZZAS {
        int id PK
        string name
        string description
        int base_price
        string image_url
        int is_active
    }
    
    ORDERS {
        int id PK
        string customer_name
        string payment_method
        int total
        datetime created_at
    }
    
    ORDER_ITEMS {
        int id PK
        int order_id FK
        string pizza_name
        string size
        string toppings
        int price
    }
```

### B·∫£ng `orders` - Clean POS Schema
| C·ªôt | Ki·ªÉu | M√¥ t·∫£ |
|-----|------|-------|
| `id` | INTEGER PK | M√£ ƒë∆°n h√†ng (auto-increment) |
| `customer_name` | TEXT | T√™n kh√°ch (m·∫∑c ƒë·ªãnh "Kh√°ch v√£ng lai") |
| `payment_method` | TEXT | Ti·ªÅn M·∫∑t / Th·∫ª / V√≠ ƒêi·ªán T·ª≠ |
| `total` | INTEGER | T·ªïng ti·ªÅn ƒë∆°n h√†ng |
| `created_at` | DATETIME | Th·ªùi gian t·∫°o (auto) |

### B·∫£ng `order_items` - Chi ti·∫øt m√≥n
| C·ªôt | Ki·ªÉu | M√¥ t·∫£ |
|-----|------|-------|
| `id` | INTEGER PK | ID m√≥n (auto-increment) |
| `order_id` | INTEGER FK | Tham chi·∫øu ƒë·∫øn `orders.id` |
| `pizza_name` | TEXT | T√™n pizza g·ªëc (VD: "Pizza Pepperoni") |
| `size` | TEXT | K√≠ch th∆∞·ªõc: S / M / L |
| `toppings` | TEXT | Danh s√°ch topping (VD: "Ph√¥ Mai, N·∫•m") |
| `price` | INTEGER | Gi√° cu·ªëi c√πng (bao g·ªìm topping) |

### B·∫£ng `pizzas` - Menu Pizza
| C·ªôt | Ki·ªÉu | M√¥ t·∫£ |
|-----|------|-------|
| `id` | INTEGER PK | ID pizza (auto-increment) |
| `name` | TEXT | T√™n pizza |
| `description` | TEXT | M√¥ t·∫£ pizza |
| `base_price` | INTEGER | Gi√° c∆° b·∫£n |
| `image_url` | TEXT | URL h√¨nh ·∫£nh |
| `is_active` | INTEGER | Tr·∫°ng th√°i (1=active, 0=inactive) |

---

## üöÄ H∆∞·ªõng D·∫´n Ch·∫°y

### Y√™u C·∫ßu
- Java JDK 17+
- Maven 3.6+

### C√°c L·ªánh

   ```bash
# Build project
   mvn clean install

# Ch·∫°y ·ª©ng d·ª•ng
   mvn javafx:run

# Ch·∫°y tests
mvn test

# Build JAR executable
mvn package
java -jar target/pizza-order-app-1.0-SNAPSHOT.jar
```

---

## üß™ Unit Testing

### Ch·∫°y Tests
```bash
mvn test
```

### Test Coverage

1. **StrategyTest.java** - Test Payment Strategies
   - ‚úÖ Cash, Card, E-Wallet payment processing
   - ‚úÖ Strategy polymorphism (LSP)
   - ‚úÖ Edge cases (zero amount, large amount)

2. **DecoratorTest.java** - Test Topping Decorators
   - ‚úÖ Single topping
   - ‚úÖ Multiple toppings
   - ‚úÖ Price accumulation

3. **PriceCalculatorTest.java** - Test Price Calculations
   - ‚úÖ Single pizza
   - ‚úÖ Multiple pizzas
   - ‚úÖ With decorators
   - ‚úÖ Tax and discount calculations

### K·∫øt Qu·∫£ M·∫´u
```
[INFO] Tests run: 24, Failures: 0, Errors: 0, Skipped: 0
[INFO] BUILD SUCCESS
```

---

## üìä T·ªïng K·∫øt SOLID + Design Patterns

| Nguy√™n L√Ω SOLID | V√≠ D·ª• Trong D·ª± √Ån |
|-----------------|-------------------|
| **SRP** | CartService, PriceCalculator, OrderRepository ƒë·ªÅu c√≥ 1 tr√°ch nhi·ªám duy nh·∫•t |
| **OCP** | C√≥ th·ªÉ th√™m Pizza, Topping, Payment m·ªõi m√† kh√¥ng s·ª≠a code c≈© |
| **LSP** | T·∫•t c·∫£ Pizza/Payment subclasses thay th·∫ø ƒë∆∞·ª£c cho base class |
| **ISP** | PaymentStrategy interface nh·ªè g·ªçn, kh√¥ng c√≥ method th·ª´a |
| **DIP** | Controller/Service ph·ª• thu·ªôc v√†o abstraction, kh√¥ng ph·ª• thu·ªôc concrete |

| Design Pattern | M·ª•c ƒê√≠ch | √Åp D·ª•ng V√†o |
|----------------|----------|-------------|
| **Factory** | T·∫°o Pizza objects | PizzaFactory |
| **Decorator** | Th√™m topping ƒë·ªông | ToppingDecorator |
| **Strategy** | Ch·ªçn payment method | PaymentStrategy |
| **Observer** | Auto-update UI | EventBus |

---

## üí° H·ªçc H·ªèi T·ª´ D·ª± √Ån

### SOLID Principles gi√∫p g√¨?
- ‚úÖ **Code d·ªÖ maintain**: M·ªói class c√≥ tr√°ch nhi·ªám r√µ r√†ng
- ‚úÖ **Code d·ªÖ extend**: Th√™m t√≠nh nƒÉng m·ªõi kh√¥ng s·ª≠a code c≈©
- ‚úÖ **Code d·ªÖ test**: Classes nh·ªè, focused, d·ªÖ vi·∫øt unit test
- ‚úÖ **Code d·ªÖ hi·ªÉu**: C·∫•u tr√∫c r√µ r√†ng, logic t√°ch bi·ªát

### Design Patterns gi√∫p g√¨?
- ‚úÖ **Gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ ph·ªï bi·∫øn**: ƒê√£ ƒë∆∞·ª£c ki·ªÉm ch·ª©ng
- ‚úÖ **Communication**: Dev hi·ªÉu nhau qua t√™n pattern
- ‚úÖ **Best practices**: Code professional, maintainable

---

## üë®‚Äçüíª T√°c Gi·∫£

**ƒê·ªó Trung T√∫ - 2212485**

D·ª± √°n POS Pizza - Minh h·ªça ƒë·∫ßy ƒë·ªß SOLID Principles v√† Design Patterns trong Java.

---

## üìù Ghi Ch√∫

- ƒê√¢y l√† h·ªá th·ªëng POS t·∫°i qu·∫ßy (kh√¥ng ph·∫£i e-commerce)
- Database SQLite ƒë∆∞·ª£c t·∫°o t·ª± ƒë·ªông khi ch·∫°y l·∫ßn ƒë·∫ßu
- UI ƒë∆∞·ª£c t·ªëi ∆∞u cho nh√¢n vi√™n thu ng√¢n s·ª≠ d·ª•ng
- Code ƒë∆∞·ª£c document chi ti·∫øt v·ªõi SOLID principles

---

## üìä V·ªÅ Class Diagrams

### Xem tr√™n GitHub
üìå **T·∫•t c·∫£ diagrams trong README n√†y s·ª≠ d·ª•ng Mermaid**  
‚úÖ GitHub t·ª± ƒë·ªông render Mermaid diagrams th√†nh h√¨nh ·∫£nh ƒë·∫πp m·∫Øt  
üé® Bao g·ªìm:
- **Architecture Overview**: T·ªïng quan t·∫•t c·∫£ patterns
- **Factory Pattern Diagram**: C·∫•u tr√∫c PizzaFactory
- **Decorator Pattern Diagram**: C√°ch topping wrap Pizza
- **Strategy Pattern Diagram**: Payment strategies
- **Observer Pattern Diagram**: EventBus notification flow
- **Database ER Diagram**: Schema database

### Xem Offline
N·∫øu xem tr√™n IDE (VSCode, IntelliJ):
1. C√†i extension h·ªó tr·ª£ Mermaid
2. Ho·∫∑c copy code Mermaid v√†o [Mermaid Live Editor](https://mermaid.live/)

---

**üçï Ch√∫c b·∫°n h·ªçc t·ªët SOLID v√† Design Patterns! üçï**

---

## üìÑ License

MIT License - D·ª± √°n m√£ ngu·ªìn m·ªü cho m·ª•c ƒë√≠ch h·ªçc t·∫≠p.

**Made with ‚ù§Ô∏è by ƒê·ªó Trung T√∫ - 2212485**
